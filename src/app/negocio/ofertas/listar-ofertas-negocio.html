<div *ngIf="exito" class="mb-4 p-3 rounded bg-green-100 border border-green-400 text-green-800 flex items-center gap-2 animate-fade-in">
  <span>✔️</span> <span>{{ exito }}</span>
</div>
<div *ngIf="error" class="mb-4 p-3 rounded bg-red-100 border border-red-400 text-red-800 flex items-center gap-2 animate-fade-in">
  <span>❌</span> <span>{{ error }}</span>
</div>
<div *ngIf="cargando">Cargando ofertas...</div>
<div *ngIf="!cargando && !error">
  <h2 class="text-xl font-bold mb-4">Mis ofertas laborales</h2>
  <button class="btn btn-primary mb-4" (click)="nuevaOferta()">Nueva oferta</button>

  <app-formulario-oferta-negocio
    *ngIf="mostrarFormulario"
    [oferta]="editando || {}"
    (guardar)="guardarOferta($event)"
    (cancelar)="cancelarEdicion()">
  </app-formulario-oferta-negocio>

  <div *ngIf="!mostrarFormulario">
    <div *ngIf="ofertas.length === 0">No tienes ofertas publicadas.</div>
    <ul *ngIf="ofertas.length > 0">
      <li *ngFor="let oferta of ofertas" class="mb-4 p-4 border rounded">
        <div class="font-semibold">{{ oferta.titulo }}</div>
        <div>{{ oferta.tipo_puesto }}</div>
        <div>{{ oferta.estado }}</div>
        <div class="text-sm text-gray-500">{{ oferta.fecha_publicacion | date:'short' }}</div>
        <div class="mt-2">{{ oferta.descripcion }}</div>
        <div class="flex gap-2 mt-2">
          <button class="btn btn-sm btn-secondary" (click)="editarOferta(oferta)">Editar</button>
          <button class="btn btn-sm btn-error" (click)="eliminarOferta(oferta)">Eliminar</button>
        </div>
      </li>
    </ul>
  </div>
</div>
